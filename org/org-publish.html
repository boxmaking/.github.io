<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- 2025-02-10 Mon 11:53 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>org-publish-tutorial</title>
<meta name="author" content="pengshao" />
<meta name="keywords" content="emacs, org-mode, org-publish-tutorial" />
<meta name="generator" content="Org Mode" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../css/org.css" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../css/org.css" />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content" class="content">
<header>
<h1 class="title">org-publish-tutorial</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org69c2187">1. 文件导出教程,以及相关的css文件和头部文件</a></li>
<li><a href="#orgcb48f97">2. 批量导出文件</a></li>
<li><a href="#orgb1d73c6">3. 批量到处文件跳过未修改设置方法(在基本完善了之后,不太需要了,现在用不太到了)</a></li>
<li><a href="#org9e234d2">4. 清除上下标的设置</a></li>
<li><a href="#orgbd9faa8">5. 导出的html不显示目录</a></li>
<li><a href="#orgf930a7e">6. 主页的设置(据说和低版本有区别,我最初用的教程是低版本的,各种错误.)</a></li>
<li><a href="#orgde164d9">7. 在 Org 模式中将图片导出为 HTML 时设置尺寸大小</a></li>
</ul>
</div>
</nav>


<div id="outline-container-org69c2187" class="outline-2">
<h2 id="org69c2187"><span class="section-number-2">1.</span> 文件导出教程,以及相关的css文件和头部文件</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>做好准备工作后，就可以导出了
C-c C-e
然后选择相应的格式，就可以导出对应的文件了。</li>

<li>导出到HTML教程
<ol class="org-ol">
<li>借鉴了<a href="https://github.com/lijigang">lijigang</a>的头文件
css模板<a href="https://github.com/lijigang/org-notes-style">https://github.com/lijigang/org-notes-style</a></li>

<li><p>
头文件
</p></li>
</ol></li>
</ol>


<ol class="org-ol">
<li><p>
然后在org文件的头部添加上加载头文件的语句就可以了
</p>
<pre class="example" id="orgc5041d5">
#+SETUPFILE: ~/.emacs.d/org-other-file/org-level-1.org
</pre></li>

<li>css文件地址
css文件最好是放到跟文件夹内部</li>

<li><p>
直接css嵌入文件内部(我没有使用,作为备用选项)
</p>

<p>
刚开始调试本地 Emacs Org Mode 发布成网页工程时，往往容易发现 CSS 没有起到应有的效果。
</p>

<p>
因为 Emacs Org Mode 默认是采用 Web 服务器的方式来导入 CSS 文件的，其中最重要的参数，就是你设置的 Web 服务器根目录。
</p>

<p>
所以，当你需要在本地调试 Emacs Org Mode 生成的 html 页面，最好的办法是安装一个 Web 服务器，并且把 Emacs 生成的 html 页面放到这个服务器的根目录下进行调试，这样就可以避免 CSS 导入位置出错的问题了。
</p>

<p>
当然，如果只是想生成供本地阅读的 html（比如说，作为笔记使用的 org 文件，发布成 html 更方便阅读），也可以采用把 CSS 内容直接内嵌到 html 页面里的方式：
</p>

<p>
首先设置好一个变量，把 CSS 属性导入：
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #4f94cd; background-color: #dcdcdc;">;; </span><span style="color: #4f94cd; background-color: #dcdcdc;">set the stylesheet string</span>
(setq waterstyle <span style="color: #00cd66; background-color: #dcdcdc;">"&lt;style&gt;</span>
<span style="color: #00cd66; background-color: #dcdcdc;"> body {</span>
<span style="color: #00cd66; background-color: #dcdcdc;">     padding: 50px 150px 50px 150px;</span>
<span style="color: #00cd66; background-color: #dcdcdc;">     border-style: solid;</span>
<span style="color: #00cd66; background-color: #dcdcdc;">     border-width: 20pt;</span>
<span style="color: #00cd66; background-color: #dcdcdc;">     border-color: #790000;</span>
<span style="color: #00cd66; background-color: #dcdcdc;"> }</span>

<span style="color: #00cd66; background-color: #dcdcdc;"> body, p, li {</span>
<span style="color: #00cd66; background-color: #dcdcdc;">         /*font-family: monospace;*/</span>
<span style="color: #00cd66; background-color: #dcdcdc;">             font-family: \"Microsoft YaHei\" ! important;</span>
<span style="color: #00cd66; background-color: #dcdcdc;">         font-size: 1em;</span>
<span style="color: #00cd66; background-color: #dcdcdc;"> }</span>
<span style="color: #00cd66; background-color: #dcdcdc;"> /* more CSS style */</span>
<span style="color: #00cd66; background-color: #dcdcdc;">              &lt;/style&gt;"</span>)
</pre>
</div>
<p>
然后在 org 工程设置里有关添加 CSS 的地方使用该变量，可以使用如下方式来直接把 CSS 内容加进去：
</p>

<pre class="example">
:style , waterstyle
</pre>
<p>
这样，本地使用 html 页面就会变得非常舒服，不会依赖于外部的 CSS 文件。 
</p></li>
</ol>
</div>
</div>



<div id="outline-container-orgcb48f97" class="outline-2">
<h2 id="orgcb48f97"><span class="section-number-2">2.</span> 批量导出文件</h2>
<div class="outline-text-2" id="text-2">
<p>
教程直接就是配置文件
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f94cd; background-color: #dcdcdc;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #4f94cd; background-color: #dcdcdc;">;; </span><span style="color: #4f94cd; background-color: #dcdcdc;">-*- coding: utf-8; lexical-binding: t -*-</span>
<span style="color: #4f94cd; background-color: #dcdcdc;">;;</span><span style="color: #4f94cd; background-color: #dcdcdc;">pengshao-org-publish.el---org-publish&#30456;&#20851;&#30340;&#37197;&#32622;</span>
<span style="color: #4f94cd; background-color: #dcdcdc;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

(<span style="color: #cd0000; background-color: #dcdcdc;">require</span> '<span style="color: #cd8500; background-color: #dcdcdc;">ox-publish</span>)
(<span style="color: #cd0000; background-color: #dcdcdc;">setq</span> org-publish-project-alist
      '(
         (<span style="color: #00cd66; background-color: #dcdcdc;">"psnote-org"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:base-directory</span> <span style="color: #00cd66; background-color: #dcdcdc;">"~/public_note/"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:base-extension</span> <span style="color: #00cd66; background-color: #dcdcdc;">"org"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:publishing-directory</span> <span style="color: #00cd66; background-color: #dcdcdc;">"~/public_site/"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:recursive</span> t     <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#26159;&#21542;&#36882;&#24402;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:publishing-function</span> org-html-publish-to-html  <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#20351;&#29992;&#21738;&#20010;&#20989;&#25968;&#26469;&#36827;&#34892;publish&#65288;&#27880;&#65306;org 7&#19982;8&#22312;&#36825;&#20010;&#22320;&#26041;&#26377;&#21306;&#21035;&#65289;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:headline-levels</span> 2   <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#30001;&#20110;&#22823;&#32434;&#32467;&#26500;&#20063;&#29992;&#20110;&#21015;&#34920;&#21644;&#20219;&#21153;,&#22240;&#27492;&#21482;&#26377;&#21069;4&#20010;&#32423;&#21035;&#29992;&#20316;&#26631;&#39064;&#26356;&#28145;&#30340;&#32423;&#21035;&#20250;&#34987;&#30475;&#20316;&#39033;&#30446;&#21015;&#34920;,&#25105;&#35774;&#32622;&#30340;2</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:auto-preamble</span> t     <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#33258;&#21160;&#21069;&#35328;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:section-numbers</span> t <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#31456;&#33410;&#25968;&#23383;&#26159;&#21542;&#26174;&#31034;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:author</span> <span style="color: #00cd66; background-color: #dcdcdc;">"pengshao"</span>   <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#20316;&#32773;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:email</span> <span style="color: #00cd66; background-color: #dcdcdc;">"pengshao58@gmail.com"</span>   <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#37038;&#31665;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:auto-sitemap</span> t                  <span style="color: #4f94cd; background-color: #dcdcdc;">; </span><span style="color: #4f94cd; background-color: #dcdcdc;">&#33258;&#21160;&#29983;&#25104; sitemap.org &#25991;&#20214;</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:sitemap-filename</span> <span style="color: #00cd66; background-color: #dcdcdc;">"sitemap.org"</span>  <span style="color: #4f94cd; background-color: #dcdcdc;">; </span><span style="color: #4f94cd; background-color: #dcdcdc;">... call it sitemap.org (it's the default)...</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:sitemap-title</span> <span style="color: #00cd66; background-color: #dcdcdc;">"PengShao's BLOG!"</span>         <span style="color: #4f94cd; background-color: #dcdcdc;">; </span><span style="color: #4f94cd; background-color: #dcdcdc;">... with title</span>
             <span style="color: #4f94cd; background-color: #dcdcdc;">;;</span><span style="color: #4f94cd; background-color: #dcdcdc;">:sitemap-file-entry-format "%d %t"   ;&#36825;&#37324;&#37319;&#29992;&#26102;&#38388;+&#26631;&#39064;&#30340;&#26041;&#24335;&#29983;&#25104;sitemap </span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:style-include-default</span> nil  <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#31105;&#29992;&#40664;&#35748; css &#26679;&#24335;,&#20351;&#29992;&#33258;&#23450;&#20041;css</span>

             <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#20316;&#20026;&#19968;&#20010;&#23383;&#31526;&#20018;&#32473;&#20104; html-head &#21464;&#37327;&#24182;&#25554;&#20837;&#21040;&#29983;&#25104;&#30340; html &#25991;&#20214;&#30340;head&#37096;</span>
             <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">&#22240;&#27492;&#37324;&#38754;&#30340;&#26576;&#20123;&#23383;&#31526;&#24517;&#39035;&#36991;&#20813;&#36716;&#20041;&#65292;&#27604;&#22914;&#21452;&#24341;&#21495;&#24517;&#39035;&#21152;&#19978;&#21453;&#26012;&#26464;</span>
             <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">href &#30340;&#36171;&#20540;&#19981;&#20250;&#20570;&#22914;&#20309;&#36716;&#25442;&#65292;&#22240;&#27492;&#24517;&#39035;&#30830;&#20445;&#26159;&#22312;&#29983;&#25104;&#30340; html &#25991;&#20214;&#33021;&#22815;&#35775;&#38382;&#30340;&#32477;&#23545;&#36335;&#24452;&#12290;</span>
             <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">html-home/up-format"&lt;div id=\"org-div-home-and-up\"&gt; &lt;a accesskey=\"h\" href=\"/home/index.html\"&gt; UP &lt;/a&gt; | &lt;a accesskey=\"H\" href=\"/home/index.html\"&gt; HOME &lt;/a&gt;&lt;/div&gt;"</span>
             <span style="color: #4f94cd; background-color: #dcdcdc;">;</span><span style="color: #4f94cd; background-color: #dcdcdc;">html-head "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/home/css/org.css\"/&gt;"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:html-postamble</span> <span style="color: #00cd66; background-color: #dcdcdc;">"&lt;script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-164487790-1\"&gt;&lt;/script&gt; &lt;script&gt; window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('</span><span style="color: #cd8500; background-color: #dcdcdc;">js</span><span style="color: #00cd66; background-color: #dcdcdc;">', new Date()); gtag('</span><span style="color: #cd8500; background-color: #dcdcdc;">config</span><span style="color: #00cd66; background-color: #dcdcdc;">', '</span><span style="color: #cd8500; background-color: #dcdcdc;">UA-164487790-1</span><span style="color: #00cd66; background-color: #dcdcdc;">'); &lt;/script&gt;"</span>

         )



         (<span style="color: #00cd66; background-color: #dcdcdc;">"psnote-static"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:base-directory</span> <span style="color: #00cd66; background-color: #dcdcdc;">"~/public_note/"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:base-extension</span> <span style="color: #00cd66; background-color: #dcdcdc;">"css</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">js</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">png</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">jpg</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">gif</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">pdf</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">mp3</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">ogg</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">swf</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">sh</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">el</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">jpeg</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">\\</span><span style="color: #00cd66; background-color: #dcdcdc; font-weight: bold;">|</span><span style="color: #00cd66; background-color: #dcdcdc;">html"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:publishing-directory</span> <span style="color: #00cd66; background-color: #dcdcdc;">"~/public_site/"</span>
             <span style="color: #ba55d3; background-color: #dcdcdc;">:recursive</span> t
             <span style="color: #ba55d3; background-color: #dcdcdc;">:publishing-function</span> org-publish-attachment
          )


         (<span style="color: #00cd66; background-color: #dcdcdc;">"psnote"</span> <span style="color: #ba55d3; background-color: #dcdcdc;">:components</span> (<span style="color: #00cd66; background-color: #dcdcdc;">"psnote-org"</span> <span style="color: #00cd66; background-color: #dcdcdc;">"psnote-static"</span>))


        ))


(define-key global-map <span style="color: #00cd66; background-color: #dcdcdc;">"\C-cp"</span> 'org-publish)




(<span style="color: #cd0000; background-color: #dcdcdc;">provide</span> '<span style="color: #cd8500; background-color: #dcdcdc;">pengshao-org-publish</span>)
</pre>
</div>
</div>
</div>


<div id="outline-container-orgb1d73c6" class="outline-2">
<h2 id="orgb1d73c6"><span class="section-number-2">3.</span> 批量到处文件跳过未修改设置方法(在基本完善了之后,不太需要了,现在用不太到了)</h2>
<div class="outline-text-2" id="text-3">
<ol class="org-ol">
<li>本来认为org只发布修改过的文件是它对比了org文件和导出文件的时间戳。
后来我把导出文件删除，又重新发布。发现都跳过了，
并没有重新导出文件，可见它并没有对比org文件和导出文件的时间戳
后来在家目录下发现了一个目录.org-timestamps
原来所有的东西都在这里放着
想不改变org文件而重新导出html等文件可以把这个目录删除，然后现重新发布。</li>
<li>或者直接暴力的
C-u M-x org-purblish
这样也是可以的</li>
<li><p>
Orgmode 发布项目缓存说明
在使用 Orgmode 进行 M-x org-publish-project 来进行将 org 文件导出为项目时，发现它会有缓存，即如果 org 文件没有再修改过，它就不会再生成该文件相应的 HTML 文件了。
</p>

<p>
参数
</p>
<ol class="org-ol">
<li>org-publish-use-timestamps-flag 1
(可通过 C-h v 变量名 来查看变量的说明及设置) 这个在第一次时可以看到，设置过之后就看不到了。( 我的环境是 Mac+Emacs25.1 )，它显示是否使用时间戳来埋发布。 这个就是导致缓存的原因。即对应的文件的的修改时间戳要比它新才会进行发布。</li>
<li>org-publish-timestamp-directory
这个就是保存时间戳文件的缓存目录。（删除该目录下的所有文件，即可进行全量重新发布）</li>
</ol></li>
</ol>
</div>
</div>




<div id="outline-container-org9e234d2" class="outline-2">
<h2 id="org9e234d2"><span class="section-number-2">4.</span> 清除上下标的设置</h2>
<div class="outline-text-2" id="text-4">
<p>
导出时如果需要目录(类似本文开头), 
要在org文件的开头出添加metadata. 
默认情况下org-mode会把^, _, []等字符当做latex中的上标,下标和脚注
如果不想让org-mode误会, 也要在metadata中注明. 于是, 每次写笔记时, 开头就要加一行
</p>

<pre class="example" id="orgdeb7230">
#+OPTIONS: ^:nil _:nil f:nil toc:t
</pre>
</div>
</div>


<div id="outline-container-orgbd9faa8" class="outline-2">
<h2 id="orgbd9faa8"><span class="section-number-2">5.</span> 导出的html不显示目录</h2>
<div class="outline-text-2" id="text-5">
<p>
一般文字文章我不喜欢
导出html文章不显示目录，toc 选项设置为 nil 
</p>
</div>
</div>


<div id="outline-container-orgf930a7e" class="outline-2">
<h2 id="orgf930a7e"><span class="section-number-2">6.</span> 主页的设置(据说和低版本有区别,我最初用的教程是低版本的,各种错误.)</h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li><p>
配置文件选项设置
</p>
<pre class="example" id="org379248b">
:auto-sitemap t
:sitemap-filename "sitemap.org"  ; ... call it sitemap.org ...
:sitemap-title "Sitemap"         ; ... with title 'Sitemap'.
</pre></li>

<li>然后每次发布这个工程的时候，就会生成一个 sitemap.org 的文件，这个文件会递归地遍历你工程里的所有文件并生成链接，并会生成一个名叫 sitemap.html 的文件。</li>

<li><p>
然后，我们只要在我们的 index.org 里 include 这个文件即可：
</p>
<pre class="example" id="orgb72a17f">
#+INCLUDE: sitemap.org
</pre>

<p>
这样我们就再也不用手动添加页面的索引链接了。
</p></li>

<li>我们可以在每个页面的页脚里把这个 sitemap.org 的链接给加上，方便随手访问这个索引。</li>
</ol>
</div>
</div>



<div id="outline-container-orgde164d9" class="outline-2">
<h2 id="orgde164d9"><span class="section-number-2">7.</span> 在 Org 模式中将图片导出为 HTML 时设置尺寸大小</h2>
<div class="outline-text-2" id="text-7">
<p>
Org 模式提供了多种方法来设置图片在导出为 HTML 时的尺寸大小，以下是详细介绍：
</p>

<ol class="org-ol">
<li>使用 #+attr_html 属性设置具体尺寸</li>
</ol>
<p>
可以通过 #+attr_html 属性为图片指定固定的宽度和高度。
</p>
<pre class="example" id="org858012b">

org

#+attr_html: :width 400px :height 300px
[[file:your_image.jpg]]


</pre>
<p>
解释：
</p>

<p>
#+attr_html 专门用于控制导出为 HTML 时图片的属性。
:width 400px 将图片宽度设置为 400 像素，你可以修改此值，也能使用百分比（如 60%）设置相对宽度。
:height 300px 将图片高度设置为 300 像素，同样可按需调整。
</p>


<ol class="org-ol">
<li>使用 CSS 样式设置图片尺寸</li>
</ol>
<p>
可以在 Org 文件头部添加 CSS 样式来控制图片尺寸。
</p>
<pre class="example" id="org8c73764">

org

#+HTML_HEAD: &lt;style&gt;
#+HTML_HEAD:   img.custom - image {
#+HTML_HEAD:     width: 70%;
#+HTML_HEAD:     height: auto;
#+HTML_HEAD:   }
#+HTML_HEAD: &lt;/style&gt;

#+attr_html: :class custom - image
[[file:your_image.jpg]]


</pre>
<p>
解释：
</p>

<p>
#+HTML_HEAD 用于在导出的 HTML 文件 &lt;head&gt; 部分添加内容。
img.custom - image 是 CSS 选择器，选择带有 custom - image 类的图片。
width: 70%; 将图片宽度设置为其父元素宽度的 70%。
height: auto; 保持图片原始宽高比，根据宽度自动调整高度。
</p>
<ol class="org-ol">
<li>按比例缩放图片</li>
</ol>
<p>
使用 :scale 属性按比例缩放图片。
</p>
<pre class="example" id="org69fa7f1">

org

#+attr_html: :scale 0.8
[[file:your_image.jpg]]


</pre>
<p>
解释：
</p>

<p>
:scale 0.8 将图片按 0.8 的比例缩放，即缩小为原来的 80%。
</p>


<ol class="org-ol">
<li>动态调整图片大小</li>
</ol>
<p>
利用 CSS 的 max - width 属性让图片根据浏览器窗口大小动态调整。
</p>
<pre class="example" id="org24b1730">

org

#+attr_html: :style "max-width: 100%; height: auto;"
[[file:your_image.jpg]]


</pre>
<p>
解释：
</p>

<p>
max - width: 100%; 确保图片最大宽度不超过其父元素宽度。
height: auto; 保持图片原始宽高比，根据宽度自动调整高度。
</p>


<p>
通过上述方法，你能够灵活控制 Org 模式中图片导出为 HTML 时的尺寸大小。
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-164487790-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-164487790-1'); </script>
</div>
</body>
</html>
